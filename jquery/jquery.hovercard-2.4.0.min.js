!function(e){e.fn.hovercard=function(t){var a={width:300,openOnLeft:!1,openOnTop:!1,cardImgSrc:"",detailsHTML:"",twitterScreenName:"",facebookUserName:"",showCustomCard:!1,customCardJSON:{},customDataUrl:"",background:"#ffffff",delay:0,autoAdjust:!0,onHoverIn:function(){},onHoverOut:function(){}},t=e.extend(a,t);if(e("#css-hovercard").length<=0){var s='<style id="css-hovercard" type="text/css">.hc-preview { position: relative; display:inline; }.hc-name { font-weight:bold; position:relative; display:inline-block; }.hc-details { left:-10px; margin-right:80px; text-align:left; font-size:0.7em !important; color:#666 !important; line-height:1.5em; border:solid 1px #ddd; position:absolute;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;top:-10px;padding:2em 10px 10px;-moz-box-shadow:5px 5px 5px #888;-webkit-box-shadow:5px 5px 5px #888;box-shadow:5px 5px 5px #888;display:none;}.hc-pic { width:70px; margin-top:-1em; float:right;  }.hc-details-open-left { left: auto; right:-10px; text-align:right; margin-left:80px; margin-right:0; } .hc-details-open-left > .hc-pic { float:left; } .hc-details-open-top { bottom:-10px; top:auto; padding: 10px 10px 2em;} .hc-details-open-top > .hc-pic { margin-top:10px; float:right;  }.hc-details .s-action{ position: absolute; top:8px; right:5px; } .hc-details .s-card-pad{ border-top: solid 1px #eee; margin-top:10px; padding-top:10px; overflow:hidden; } .hc-details-open-top .s-card-pad { border:none; border-bottom: solid 1px #eee; margin-top:0;padding-top:0; margin-bottom:10px;padding-bottom:10px; }.hc-details .s-card .s-strong{ font-weight:bold; color: #555; } .hc-details .s-img{ float: left; margin-right: 10px; max-width: 70px;} .hc-details .s-name{ color:#222; font-weight:bold;} .hc-details .s-loc{ float:left;}.hc-details-open-left .s-loc{ float:right;} .hc-details .s-href{ clear:both; float:left;} .hc-details .s-desc{ float:left; font-family: Georgia; font-style: italic; margin-top:5px;width:100%;} .hc-details .s-username{ text-decoration:none;} .hc-details .s-stats { display:block; float:left; margin-top:5px; clear:both; padding:0px;}.hc-details ul.s-stats li{ list-style:none; float:left; display:block; padding:0px 10px !important; border-left:solid 1px #eaeaea;} .hc-details ul.s-stats li:first-child{ border:none; padding-left:0 !important;} .hc-details .s-count { font-weight: bold;} .</style>")';e(s).appendTo("head")}return this.each(function(){function a(e){var a=e.find(".hc-details").eq(0),s=e[0].getBoundingClientRect(),o=(s.top-20,s.left+35+a.width()),i=s.top+35+a.height();s.top-10;t.openOnLeft||t.autoAdjust&&o>window.innerWidth?a.addClass("hc-details-open-left"):a.removeClass("hc-details-open-left"),t.openOnTop||t.autoAdjust&&i>window.innerHeight?a.addClass("hc-details-open-top"):a.removeClass("hc-details-open-top")}function s(s,o,i,n){var d,l,r,c,p;switch(s){case"custom":l=o,d=function(e){return'<div class="s-card s-card-pad">'+(e.image?'<img class="s-img" src='+e.image+" />":"")+(e.name?'<label class="s-name">'+e.name+" </label><br/>":"")+(e.link?'<a class="s-loc" href="'+e.link+'">'+e.link+"</a><br/>":"")+(e.bio?'<p class="s-desc">'+e.bio+"</p>":"")+(e.website?'<p class="s-desc"><span class="s-strong">Web:</span><br/><a href="'+e.website+'">'+e.website+"</a></p>":"")+(e.email?'<p class="s-desc"><span class="s-strong">Email:</span><br/><a href="'+e.email+'">'+e.email+"</a></p>":"")+"</div>"},c="Loading...",p="Sorry, no data found.",r=function(){}}e.isEmptyObject(n)?e.ajax({url:l,type:"GET",dataType:"jsonp",timeout:4e3,beforeSend:function(){i.find(".s-message").remove(),i.append('<p class="s-message">'+c+"</p>")},success:function(e){e.length<=0?i.find(".s-message").html(p):(i.find(".s-message").remove(),i.prepend(d(e)),a(i.closest(".hc-preview")),i.stop(!0,!0).delay(t.delay).fadeIn(),r(e))},error:function(e,t,a){i.find(".s-message").html(p)}}):i.prepend(d(n))}var o=e(this);o.wrap('<div class="hc-preview" />'),o.addClass("hc-name");var i="";t.cardImgSrc.length>0&&(i='<img class="hc-pic" src="'+t.cardImgSrc+'" />');var n='<div class="hc-details" >'+i+t.detailsHTML+"</div>";o.after(n),o.siblings(".hc-details").eq(0).css({width:t.width,background:t.background}),o.closest(".hc-preview").hover(function(){var i=e(this);a(i),i.css("zIndex","200"),o.css("zIndex","100").find(".hc-details").css("zIndex","50");var n=i.find(".hc-details").eq(0);if(n.stop(!0,!0).delay(t.delay).fadeIn(),"function"==typeof t.onHoverIn){if(t.showCustomCard&&n.find(".s-card").length<=0){var d=t.customDataUrl;"undefined"==typeof o.attr("data-hovercard")||o.attr("data-hovercard").length>0&&(d=o.attr("data-hovercard")),s("custom",d,n,t.customCardJSON)}t.onHoverIn.call(this)}},function(){$this=e(this),$this.find(".hc-details").eq(0).stop(!0,!0).fadeOut(300,function(){$this.css("zIndex","5"),o.css("zIndex","5").find(".hc-details").css("zIndex","5"),"function"==typeof t.onHoverOut&&t.onHoverOut.call(this)})})})}}(jQuery);